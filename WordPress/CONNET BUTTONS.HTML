<!--connect xumm buttons-->
<div class="button-container">
  <button 
    type="button"
    onclick="window.location.href='/connect-wallet/'"
    class="connect-wallet-button">
    üîó Connect XAMAN Wallet
  </button>

  <div id="trustlineWarning" class="trustline-warning">
    <h3 class="trustline-warning-title">‚ö†Ô∏è You Need a WALDO Trustline</h3>
    <p class="trustline-desc">Before you can receive WALDO rewards, you must add the trustline to your wallet.</p>
    <a href="https://xumm.app/detect/trust?issuer=rstjAWDiqKsUMhHqiJShRSkuaZ44TXZyDY&currency=WLO" target="_blank">
      <div class="add-trustline-button">
        üëâ <strong>Click here to add WALDO Trustline in XUMM</strong>
      </div>
    </a>
  </div>

  <button
    type="button"
    onclick="window.location.href='https://waldocoin.live/hall-of-fame/'"
    class="hall-of-fame-button">
    üåü WALDO Hall of Fame
  </button>
</div>

<style>
  .button-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 25px;
    margin-top: 60px;
  }
  .connect-wallet-button {
    background: #00c853;
    color: black;
    font-weight: bold;
    font-size: 20px;
    padding: 16px 30px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
  }
  .hall-of-fame-button {
    background: gold;
    color: black;
    font-weight: bold;
    font-size: 18px;
    padding: 14px 26px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
  }
  .trustline-warning {
    display: none;
    background: #222;
    padding: 25px;
    border: 2px dashed #e63e3e;
    border-radius: 12px;
    text-align: center;
    max-width: 500px;
  }
  .trustline-warning-title {
    color: #e63e3e;
    font-size: 22px;
    margin-bottom: 12px;
  }
  .trustline-desc {
    font-size: 16px;
    margin-bottom: 14px;
  }
  .add-trustline-button {
    background: #e63e3e;
    color: white;
    padding: 14px 24px;
    font-size: 16px;
    border-radius: 8px;
    display: inline-block;
    transition: transform 0.2s;
    cursor: pointer;
  }
  .add-trustline-button:hover {
    transform: scale(1.05);
  }
</style>

<script>
  async function checkTrustline(wallet) {
    const res = await fetch("https://waldocoin-backend-api.onrender.com/api/trustline/check", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ wallet })
    });
    const data = await res.json();
    if (data.success && !data.trustline) {
      document.getElementById("trustlineWarning").style.display = "block";
    }
  }

  document.addEventListener("DOMContentLoaded", () => {
    const wallet = localStorage.getItem("xumm_wallet");
    if (wallet) checkTrustline(wallet);
  });
</script>