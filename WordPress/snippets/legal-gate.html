<style>
  #waldoLegalGate { position: fixed; inset: 0; z-index: 999999; display: none; align-items: center; justify-content: center; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
  #waldoLegalGate.show { display: flex; }
  #waldoLegalGate * { box-sizing: border-box; }
  .lg-backdrop { position: absolute; inset: 0; background: #000; opacity: 0.96; }
  .lg-modal { position: relative; z-index: 1; width: min(760px, 92vw); max-height: min(88vh, 100%); overflow: auto; border: 1px solid #1e1e1e; border-radius: 14px; background: #0b0b0b; color: #eafff9; padding: 22px; box-shadow: 0 0 28px rgba(0,0,0,.45); }
  .lg-modal h2 { margin: 0 0 10px; font-weight: 900; letter-spacing: .3px; font-size: 20px; }
  .lg-body { font-size: 14px; line-height: 1.5; }
  .lg-body a { color: #9adbcf; text-decoration: underline; }
  .lg-list { margin: 10px 0 0 18px; }
  .lg-ack { display: flex; gap: 8px; align-items: flex-start; margin-top: 12px; }
  .lg-actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 14px; }
  .lg-btn { background: linear-gradient(90deg, #00f7ff, #ff3df7); color: #061018; border: 0; padding: 10px 14px; border-radius: 10px; font-weight: 900; cursor: pointer; }
  .lg-btn[disabled] { opacity: .5; cursor: not-allowed; }
  @media (max-width: 480px) { .lg-modal { padding: 16px; } }
  noscript .lg-noscript { position: fixed; inset: 0; z-index: 1000000; display: flex; align-items: center; justify-content: center; background: #000; color: #fff; padding: 24px; text-align: center; }
</style>

<div id="waldoLegalGate" role="dialog" aria-modal="true" aria-labelledby="lgTitle">
  <div class="lg-backdrop" aria-hidden="true"></div>
  <div class="lg-modal">
    <h2 id="lgTitle">Important Legal Notice</h2>
    <div class="lg-body">
      <p>By accessing this site you confirm and agree that:</p>
      <ul class="lg-list">
        <li>You are at least 18 years old (or the legal age in your jurisdiction).</li>
        <li>This site and any WALDO-related features are for informational and entertainment purposes only and do not constitute financial, investment, or legal advice.</li>
        <li>WALDOCOIN is not offered as a security or an investment product; there is no expectation of profit, yield, or returns, and no guarantees.</li>
        <li>You are solely responsible for complying with the laws of your jurisdiction. Do not use this site if doing so would be unlawful where you are located.</li>
        <li>Blockchain transactions are generally irreversible and carry risk. Use at your own risk; the team is not liable for losses or damages.</li>
        <li>By proceeding, you accept our Terms and Privacy Policy.</li>
      </ul>
      <label class="lg-ack"><input id="lgCheck" type="checkbox"> I confirm I am 18+ and I agree to the above and the site Terms.</label>
      <label class="lg-ack"><input id="lgRemember" type="checkbox"> Donâ€™t show again on this device</label>
      <div class="lg-actions">
        <button id="lgAgree" class="lg-btn" disabled>Enter Site</button>
      </div>
    </div>
  </div>
</div>

<noscript>
  <div class="lg-noscript">
    You must enable JavaScript to use this site. By using this site you confirm you are 18+ and agree to our terms. If you do not agree, please leave this site.
  </div>
</noscript>

<script>
(function(){
  const KEY = 'waldo_legal_accepted_v2';
  function getAccepted(){
    try { return localStorage.getItem(KEY) === 'true'; }
    catch(_) { return document.cookie.indexOf(KEY + '=true') !== -1; }
  }
  function setAccepted(val){
    try {
      if (val) localStorage.setItem(KEY, 'true'); else localStorage.removeItem(KEY);
    } catch(_) {
      if (val) document.cookie = KEY + '=true; path=/; max-age=31536000; SameSite=Lax';
      else document.cookie = KEY + '=; Max-Age=0; path=/; SameSite=Lax';
    }
  }
  function lockScroll(yes){
    try {
      if (yes) { document.body.dataset._lgScroll = document.body.style.overflow || ''; document.body.style.overflow = 'hidden'; }
      else { document.body.style.overflow = document.body.dataset._lgScroll || ''; }
    } catch(_){}
  }
  function showGate(){ gate.classList.add('show'); lockScroll(true); }
  function hideGate(){ gate.classList.remove('show'); lockScroll(false); }

  function init(){
    gate = document.getElementById('waldoLegalGate');
    if (!gate) return;
    const agree = document.getElementById('lgAgree');
    const check = document.getElementById('lgCheck');
    const remember = document.getElementById('lgRemember');

    // Always show on any page where this block is present unless user opted out
    if (getAccepted()) hideGate(); else showGate();

    if (check) check.addEventListener('change', function(){ agree && (agree.disabled = !check.checked); });
    if (agree) agree.addEventListener('click', function(){
      if (!check || !check.checked) return;
      // Only remember if user opted out from seeing it again
      if (remember && remember.checked) setAccepted(true); else setAccepted(false);
      hideGate();
    });
  }

  // Initialize as soon as DOM is ready
  if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
  else init();
})();
</script>

